<!doctype html>
<meta charset="utf-8">
<title>Treasure hunter</title>

<body>
    <script src="../pixi/pixi.min.js"></script>
    <script>
        //创建Pixi应用程序和stage（舞台）

        let app = new PIXI.Application({
            width: 512,         // default: 800 宽度
            height: 384,        // default: 600 高度
            antialias: true,    // default: false 反锯齿
            transparent: false, // default: false 透明度
            resolution: 1       // default: 1 分辨率
        }
        );
        document.body.appendChild(app.view);
        const { Sprite, TextureCache, Rectangle, Text, TextStyle, extras } = PIXI;
        const { loader } = app
        var contain = new PIXI.Container();
        console.log()
        loader
            .add("far", "resources/bg-far.png")
            .add("mid", "resources/bg-mid.png")
            .load(update);

        var far, mid
        function update() {
            far = new extras.TilingSprite(loader.resources.far.texture,512, 256);
            far.position.x = 0;
            far.position.y = 0;
            far.tilePosition.x = 0;
            far.tilePosition.y = 0;
            contain.addChild(far);

            mid = new extras.TilingSprite(loader.resources.mid.texture,512, 256);
            mid.position.x = 0;
            mid.position.y = 128;
            mid.tilePosition.x = 0;
            mid.tilePosition.y = 0;

            contain.addChild(mid);

            // far.tilePosition.x -= 0.128;
            // mid.tilePosition.x -= 0.64;

            app.stage.addChild(contain);
            app.ticker.add(delta => gameLoop(delta));
        }

        function gameLoop(delta) {
            far.tilePosition.x -= 0.128;
            mid.tilePosition.x -= 0.64;
        }
    </script>
</body>